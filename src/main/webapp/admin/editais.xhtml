<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
        template="/template.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
>

    <ui:define name="title">
        Listagem de Editais
    </ui:define>

    <ui:define name="content">
        <h:form id="formEditais">
            <p:growl showDetail="true" showSummary="true" />


            <h1>Listagem de Editais</h1>

            <p:commandButton action="/admin/edital.xhtml" value="Novo Edital"/>
            <p:button outcome="/admin/editais.xhtml" value="Cancelar"/>
            <p:button outcome="/menu.xhtml" value="menu Principal"/>

            <br/>
            <br/>

            <p:dataTable value="#{editalBean.editais}" var="e">

            <p:column headerText="id">
                #{e.id}
            </p:column>

            <p:column headerText="titulo">
                #{e.titulo}
            </p:column>

            <p:column headerText="número do edital">
                #{e.editalNumero}
            </p:column>

            <p:column headerText="Data início">
                <h:outputText value="#{e.dataInicio}">
                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                </h:outputText>
            </p:column>


            <p:column headerText="data fim">
                <h:outputText value="#{e.dataFim}">
                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                </h:outputText>
            </p:column>

            <p:column headerText="Operações">
                <p:commandButton value="Editar" action="/admin/edital.xhtml" ajax="false">
                    <f:setPropertyActionListener target="#{editalBean.edital}" value="#{e}"/>
                </p:commandButton>


                <p:commandButton value="Excluir" action="#{editalBean.excluir()}" ajax="false">
                    <f:setPropertyActionListener target="#{editalBean.edital}" value="#{e}"/>
                </p:commandButton>

                <p:commandButton value="Detalhes" action="#{editalBean.detalhes()}" ajax="false">
                    <f:setPropertyActionListener target="#{editalBean.edital}" value="#{e}"/>
                </p:commandButton>


            </p:column>

        </p:dataTable>
        </h:form>
    </ui:define>

</ui:composition>